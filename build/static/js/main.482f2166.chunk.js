(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{38:function(t,e,r){},58:function(t,e,r){},65:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r.n(n),a=r(29),i=r.n(a),s=(r(38),r(11)),u=r.n(s),l=r(16),o=r(19),d=r(33),b=r(30),j=r.n(b),h=r(9),f=r(2),p=(r(58),r(31)),m=function t(e,r,n,c,a){Object(p.a)(this,t),this.id=e,this.title=r,this.url=n,this.thumbnail=c,this.text=a},x=r(1),O=function(t){var e=t.headline,r=t.id,n=t.url;return t.displaySummary?Object(x.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:Object(x.jsx)("h1",{children:e})}):Object(x.jsx)(h.b,{to:{pathname:"/summary/".concat(r),state:{displaySummary:!0}},className:"link",children:Object(x.jsx)("h2",{children:e})})},v=function(t){var e=t.article,r=t.displaySummary;if(e.hasOwnProperty("error"))return Object(x.jsx)("div",{children:e.error});var n=e.id,c=e.title,a=e.url,i=e.thumbnail;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:i,alt:"article thumnail"}),Object(x.jsx)(O,{headline:c,id:n,url:a,displaySummary:r})]})},y=function(t){var e=t.articleArr.map((function(t){var e=new m(t.id,t.webTitle,t.webUrl,t.fields.thumbnail,t.fields.bodyText);return Object(x.jsx)(v,{article:e},e.id)}));return Object(x.jsx)(x.Fragment,{children:e})},w=function(t){var e=t.bodyText;return Object(x.jsx)("p",{children:e})},g=function(t){var e,r=t.articleArr,c=Object(f.f)().state,a=Object(f.g)().id;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var i=r.find((function(t){return t.id===a})),s=i?new m(i.id,i.webTitle,i.webUrl,i.fields.thumbnail,i.fields.bodyText):{error:"Unexpected article object"};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{article:s,displaySummary:null===c||void 0===c?void 0:c.displaySummary}),Object(x.jsx)(w,{bodyText:null!==(e=null===s||void 0===s?void 0:s.text)&&void 0!==e?e:s.error})]})};var k=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),r=e[0],c=e[1],a=["http://localhost:4000/data","https://content.guardianapis.com".concat("/search?api-key=".concat("9b1e6ba1-be68-477c-93c3-557596c7121f","&type=").concat("article","&section=").concat("world","&show-fields=").concat("thumbnail,bodyText"))][1],i=["id","webTitle","webUrl","fields"],s=function(t){return t.map((function(t){return Object.keys(t).forEach((function(e){i.includes(e)||delete t[e]})),t}))},b=function(){var t=Object(l.a)(u.a.mark((function t(){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get(a);case 3:if(!(e=t.sent).data){t.next=7;break}return r=e.data.response.results,t.abrupt("return",s(r.map((function(t){var e=t.id.replace(/\//g,"");return Object(o.a)(Object(o.a)({},t),{},{id:e})}))));case 7:return t.abrupt("return",new Error("Something went wrong!"));case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0.message),t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,b();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(h.a,{children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{exact:!0,path:"/",children:Object(x.jsx)(y,{articleArr:r})}),Object(x.jsx)(f.a,{path:"/summary/:id",children:Object(x.jsx)(g,{articleArr:r})})]})})})};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.482f2166.chunk.js.map