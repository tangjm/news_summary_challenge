(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{38:function(e,t,r){},40:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(29),i=r.n(a),s=(r(38),r(11)),u=r.n(s),l=r(16),o=r(19),d=r(33),b=r(9),j=r(2),h=(r(40),r(30)),f=r.n(h),p=r(31),x=function e(t,r,n,c,a){Object(p.a)(this,e),this.id=t,this.title=r,this.url=n,this.thumbnail=c,this.text=a},O=r(1),m=function(e){var t=e.headline,r=e.url;return Object(O.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:Object(O.jsx)("h1",{children:t})})},v=function(e){var t=e.headline,r=e.id;return Object(O.jsx)(b.b,{to:{pathname:"/summary/".concat(r),state:{displaySummary:!0}},className:"link",children:Object(O.jsx)("h2",{children:t})})},y=function(e){var t=e.article,r=e.displaySummary;if(t.hasOwnProperty("error"))return Object(O.jsx)("div",{children:t.error});var n=t.id,c=t.title,a=t.url,i=t.thumbnail;return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:i,alt:"article thumnail"}),r?Object(O.jsx)(m,{headline:c,url:a}):Object(O.jsx)(v,{headline:c,id:n})]})},w=function(e){var t=e.articleArr.map((function(e){var t=new x(e.id,e.webTitle,e.webUrl,e.fields.thumbnail,e.fields.bodyText);return Object(O.jsx)(y,{article:t},t.id)}));return Object(O.jsx)(O.Fragment,{children:t})},g=function(e){var t=e.bodyText;return Object(O.jsx)("p",{children:t})},k=function(e){var t,r=e.articleArr,c=Object(j.f)().state,a=Object(j.g)().id;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var i=r.find((function(e){return e.id===a})),s=i?new x(i.id,i.webTitle,i.webUrl,i.fields.thumbnail,i.fields.bodyText):{error:"Unexpected article object"};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{article:s,displaySummary:null===c||void 0===c?void 0:c.displaySummary}),Object(O.jsx)(g,{bodyText:null!==(t=null===s||void 0===s?void 0:s.text)&&void 0!==t?t:s.error})]})};var T=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),r=t[0],c=t[1],a=["http://localhost:4000/data","https://content.guardianapis.com/search?api-key=".concat("9b1e6ba1-be68-477c-93c3-557596c7121f","&type=article&show-fields=thumbnail,bodyText")][1],i=["id","webTitle","webUrl","fields"],s=function(e){return e.map((function(e){return Object.keys(e).forEach((function(t){i.includes(t)||delete e[t]})),e}))},h=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(a);case 3:if(!(t=e.sent).data){e.next=7;break}return r=t.data.response.results,e.abrupt("return",s(r.map((function(e){var t=e.id.replace(/\//g,"");return Object(o.a)(Object(o.a)({},e),{},{id:t})}))));case 7:return e.abrupt("return",new Error("Something went wrong!"));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,h();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(b.a,{children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",children:Object(O.jsx)(w,{articleArr:r})}),Object(O.jsx)(j.a,{path:"/summary/:id",children:Object(O.jsx)(k,{articleArr:r})})]})})})};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.ba8e9fe8.chunk.js.map