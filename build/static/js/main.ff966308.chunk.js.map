{"version":3,"sources":["utils/ArticleModel.js","Components/ArticleTitle.jsx","Components/ArticleHeadline.jsx","Components/ArticleBlock.jsx","Components/HeadlinesPage.jsx","Components/ArticleText.jsx","Components/SummaryPage.jsx","App.js","index.js"],"names":["ArticleModel","id","title","url","thumbnail","text","this","ArticleTitle","headline","href","target","rel","ArticleHeadline","articleTitle","articleId","to","pathname","state","displaySummary","className","ArticleBlock","article","hasOwnProperty","error","src","alt","HeadlinesPage","articleArrFormatted","articleArr","map","currentArticle","webTitle","webUrl","fields","bodyText","ArticleText","SummaryPage","articles","useLocation","useParams","useEffect","window","scrollTo","articleToDisplay","find","App","useState","setArticles","apiUrl","concat","process","keysNeeded","filterArticleKeys","articleObj","Object","keys","forEach","key","includes","getArticles","a","axios","get","res","data","articlesFound","response","results","newId","replace","Error","console","log","message","getData","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff966308.chunk.js","sourcesContent":["export default class ArticleModel {\r\n\tconstructor(id, title, url, thumbnail, text) {\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.url = url\r\n\t\tthis.thumbnail = thumbnail;\r\n\t\tthis.text = text;\r\n\t}\r\n}","import PropTypes from 'prop-types';\r\n\r\nconst ArticleTitle = ({ headline, url }) => {\r\n\treturn (\r\n\t\t<a href={url} target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t<h1>{headline}</h1>\r\n\t\t</a>\r\n\t)\r\n}\r\n\r\nArticleTitle.propTypes = {\r\n\theadline: PropTypes.string,\r\n\turl: PropTypes.string\r\n}\r\n\r\nexport default ArticleTitle;","import PropTypes from 'prop-types';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst ArticleHeadline = ({ headline, id }) => {\r\n\r\n\tconst articleTitle = headline;\r\n\tconst articleId = id;\r\n\r\n\treturn (\r\n\t\t<NavLink to={{\r\n\t\t\tpathname: `/summary/${articleId}`,\r\n\t\t\tstate: { displaySummary: true }\r\n\t\t}} className=\"link\" >\r\n\t\t\t<h2>{articleTitle}</h2>\r\n\t\t</NavLink >\r\n\t)\r\n}\r\n\r\nArticleHeadline.propTypes = {\r\n\theadline: PropTypes.string,\r\n\tid: PropTypes.string,\r\n}\r\n\r\nexport default ArticleHeadline;","import PropTypes from 'prop-types';\r\nimport ArticleModel from '../utils/ArticleModel';\r\n\r\nimport ArticleTitle from \"./ArticleTitle\";\r\nimport ArticleHeadline from \"./ArticleHeadline\";\r\n\r\n\r\nconst ArticleBlock = ({ article, displaySummary }) => {\r\n\r\n\tif (article.hasOwnProperty(\"error\")) {\r\n\t\treturn <div>{article.error}</div>;\r\n\t}\r\n\r\n\tconst { id, title, url, thumbnail } = article;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<img src={thumbnail} alt=\"article thumnail\" />\r\n\t\t\t{displaySummary ?\r\n\t\t\t\t<ArticleTitle headline={title} url={url} />\r\n\t\t\t\t:\r\n\t\t\t\t<ArticleHeadline headline={title} id={id} />\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nArticleBlock.propTypes = {\r\n\tarticle: PropTypes.oneOfType([\r\n\t\tPropTypes.instanceOf(ArticleModel),\r\n\t\tPropTypes.exact({ error: PropTypes.string })\r\n\t]),\r\n\tdisplaySummary: PropTypes.bool\r\n}\r\n\r\nexport default ArticleBlock;\r\n","import PropTypes from 'prop-types';\r\nimport ArticleBlock from './ArticleBlock';\r\nimport ArticleModel from '../utils/ArticleModel';\r\n\r\nconst HeadlinesPage = ({ articleArr }) => {\r\n\r\n\tconst articles = articleArr;\r\n\tconst articleArrFormatted = articles.map(currentArticle => {\r\n\t\tconst article = new ArticleModel(currentArticle.id,\r\n\t\t\tcurrentArticle.webTitle,\r\n\t\t\tcurrentArticle.webUrl,\r\n\t\t\tcurrentArticle.fields.thumbnail,\r\n\t\t\tcurrentArticle.fields.bodyText\r\n\t\t);\r\n\t\treturn <ArticleBlock key={article.id} article={article} />;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{articleArrFormatted}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nHeadlinesPage.propTypes = {\r\n\tarticleArr: PropTypes.arrayOf(\r\n\t\tPropTypes.exact({\r\n\t\t\tid: PropTypes.string,\r\n\t\t\twebTitle: PropTypes.string,\r\n\t\t\twebUrl: PropTypes.string,\r\n\t\t\tfields: PropTypes.exact({\r\n\t\t\t\tthumbnail: PropTypes.string,\r\n\t\t\t\tbodyText: PropTypes.string\r\n\t\t\t})\r\n\t\t})\r\n\t),\r\n}\r\n\r\nexport default HeadlinesPage;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ArticleText = ({ bodyText }) => {\r\n\treturn (\r\n\t\t<p>{bodyText}</p>\r\n\t)\r\n}\r\n\r\nArticleText.propTypes = {\r\n\tbodyText: PropTypes.string\r\n}\r\n\r\nexport default ArticleText;\r\n","import PropTypes from 'prop-types';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\n\r\nimport ArticleBlock from './ArticleBlock';\r\nimport ArticleText from './ArticleText';\r\nimport ArticleModel from '../utils/ArticleModel';\r\n\r\nconst SummaryPage = ({ articleArr }) => {\r\n\r\n\tconst articles = articleArr;\r\n\tconst { state } = useLocation();\r\n\tconst { id } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, [])\r\n\r\n\tconst articleToDisplay = articles.find(currentArticle => currentArticle.id === id);\r\n\tconst article = articleToDisplay ? new ArticleModel(articleToDisplay.id,\r\n\t\tarticleToDisplay.webTitle,\r\n\t\tarticleToDisplay.webUrl,\r\n\t\tarticleToDisplay.fields.thumbnail,\r\n\t\tarticleToDisplay.fields.bodyText\r\n\t) : { error: \"Unexpected article object\" };\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ArticleBlock article={article} displaySummary={state?.displaySummary} />\r\n\t\t\t<ArticleText bodyText={article?.text ?? article.error} />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nSummaryPage.propTypes = {\r\n\tarticleArr: PropTypes.arrayOf(\r\n\t\tPropTypes.exact({\r\n\t\t\tid: PropTypes.string,\r\n\t\t\twebTitle: PropTypes.string,\r\n\t\t\twebUrl: PropTypes.string,\r\n\t\t\tfields: PropTypes.exact({\r\n\t\t\t\tthumbnail: PropTypes.string,\r\n\t\t\t\tbodyText: PropTypes.string\r\n\t\t\t}),\r\n\t\t})\r\n\t),\r\n}\r\n\r\nexport default SummaryPage;\r\n","import axios from 'axios';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\nimport HeadlinesPage from './Components/HeadlinesPage';\r\nimport SummaryPage from './Components/SummaryPage';\r\n\r\nfunction App() {\r\n  const [articles, setArticles] = useState([]);\r\n\r\n  const jsonServer = `http://localhost:4000/data`;\r\n\r\n  // Guardian API\r\n  const developerKey = process.env.REACT_APP_GUARDIAN_API_KEY;\r\n  const baseUrl = `https://content.guardianapis.com`;\r\n  const [section, type, fields] = [\"world\", \"article\", \"thumbnail,bodyText\"];\r\n  const guardianApi = baseUrl.concat(`/search?api-key=${developerKey}&type=${type}&section=${section}&show-fields=${fields}`);\r\n\r\n  const selectServer = [jsonServer, guardianApi];\r\n  const apiUrl = selectServer[1];\r\n\r\n  // Formatting fetched data\r\n  const replaceArticleIds = articleArr => {\r\n    return articleArr.map(articleObj => {\r\n      const newId = articleObj.id.replace(/\\//g, \"\");\r\n      return { ...articleObj, id: newId };\r\n    });\r\n  }\r\n\r\n  const keysNeeded = [\"id\", \"webTitle\", \"webUrl\", \"fields\"];\r\n\r\n  const filterArticleKeys = articleArr => {\r\n    return articleArr.map(articleObj => {\r\n      Object.keys(articleObj).forEach(key => {\r\n        if (!keysNeeded.includes(key)) delete articleObj[key];\r\n      })\r\n      return articleObj;\r\n    });\r\n  }\r\n\r\n  // API request\r\n  const getArticles = async () => {\r\n    try {\r\n      const res = await axios.get(apiUrl);\r\n      if (res.data) {\r\n        const articlesFound = res.data.response.results;\r\n        return filterArticleKeys(replaceArticleIds(articlesFound));\r\n      }\r\n      return new Error(\"Something went wrong!\");\r\n    } catch (e) {\r\n      console.log(e.message);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      setArticles(await getArticles());\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HeadlinesPage articleArr={articles} />\r\n          </Route>\r\n          <Route path=\"/summary/:id\">\r\n            <SummaryPage articleArr={articles} />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}